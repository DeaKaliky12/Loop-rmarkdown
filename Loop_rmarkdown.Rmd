---
title: "Pemrograman Loop di R"
author: "Tim 9"
date: "2025-06-15"
output: 
  html_document:
    toc: true
    toc_depth: 3
    number_sections: true
    fig_caption: true
---

# Pendahuluan

Dalam pemrograman R, **loop** adalah struktur kontrol yang memungkinkan perulangan eksekusi instruksi. Terdapat beberapa jenis loop yang umum digunakan:

- `for` loop
- `while` loop
- `repeat` loop

# Jenis-jenis Loop

## For Loop

`for` loop digunakan ketika jumlah pengulangan sudah diketahui.

```{r}
for (i in 1:5) {
  print(paste("Perulangan ke-", i))
}
```

Contoh lain:
Sebuah kelas memiliki 6 mahasiswa. Masing-masing telah mengikuti ujian. Dosen ingin menghitung total nilai dan rata-rata nilai kelas menggunakan for loop, tanpa fungsi sum() atau mean().

```{r echo=FALSE}
tabel_nilai <- data.frame(
  No = 1:6,
  Nama = c("Andi", "Budi", "Citra", "Dini", "Eko", "Farah"),
  Nilai = c(75, 82, 68, 90, 77, 85)
)

knitr::kable(tabel_nilai, caption = "Tabel Nilai Mahasiswa")
```

```{r}
nilai <- c(75, 82, 68, 90, 77, 85)

total <- 0

for (i in 1:length(nilai)) {
  total <- total + nilai[i]
}

rata_rata <- total / length(nilai)

cat("Total nilai mahasiswa =", total, "\n")
cat("Rata-rata nilai =", rata_rata)
```

## While Loop

`while` loop digunakan saat pengulangan tergantung pada suatu kondisi.

```{r}
i <- 1
while (i <= 5) {
  print(paste("Nilai i saat ini:", i))
  i <- i + 1
}
```

Contoh lain:
Seorang mahasiswa ingin menabung setiap minggu sebesar Rp50.000. Dia ingin mengetahui berapa minggu yang dibutuhkan untuk mencapai tabungan minimal sebesar Rp300.000.

| Minggu | Total Tabungan |
|--------|----------------|
|   1    |     50000      |
|   2    |    100000      |
|   3    |    150000      |
|  ...   |      ...       |

```{r}
minggu <- 1                   
tabungan <- 0                 
data_tabungan <- data.frame(  
  Minggu = integer(),
  Total_Tabungan = numeric()
)

while (tabungan < 300000) {
  tabungan <- tabungan + 50000                  
  data_tabungan <- rbind(data_tabungan,            
                         data.frame(Minggu = minggu,
                                    Total_Tabungan = tabungan))
  minggu <- minggu + 1                                
}

data_tabungan
```
## Repeat Loop

`repeat` loop akan terus berjalan sampai diberi perintah `break`.

```{r}
i <- 1
repeat {
  print(paste("i =", i))
  i <- i + 1
  if (i > 5) break
}
```

Contoh lain:
Seorang mahasiswa sedang mengikuti pelatihan mengetik cepat. Ia harus mengetik ulang paragraf yang sama sampai mencapai kecepatan minimal 75 kata per menit (WPM). Pada setiap percobaan, kecepatannya dapat berubah secara acak karena faktor konsentrasi dan kelelahan.

| Latihan ke |  Skor  |
|------------|--------|
| 1          |   63   |
| 2          |   59   |
| 3          |   74   |
| 4          |   76   |

Program R akan digunakan untuk menyimulasikan proses ini, mencatat setiap kecepatan dalam latihan, dan menghentikan perulangan ketika kecepatan telah mencapai minimal 75 WPM.

```{r repeat-loop-example, echo=TRUE}
library(kableExtra)
set.seed(123)

wpm <- 0
latihan <- 0
hasil <- data.frame(Latihan_ke = integer(), WPM = numeric())

repeat {
  latihan <- latihan + 1
  wpm <- sample(55:80, 1)
  hasil <- rbind(hasil, data.frame(Latihan_ke = latihan, WPM = wpm))
  
  if (wpm >= 75) {
    break
  }
}

print(hasil)
```
# Loop pada Vektor dan List

## Vektor

```{r}
buah <- c("apel", "jeruk", "mangga")
for (b in buah) {
  print(paste("Saya suka", b))
}
```

## List

```{r}
daftar <- list(nama = "Ani", umur = 20, status = TRUE)
for (item in daftar) {
  print(item)
}
```

# Menampilkan Gambar

## For Loop
```{r, fig.cap="Tiga histogram dari loop", fig.width=12, fig.height=4}
par(mfrow = c(1, 3))  
for (i in 1:3) {
  data <- rnorm(100, mean = i)
  hist(data,
       main = paste("Histogram ke-", i),
       col = "lightblue")
}
```
## While Loop

```{r}
par(mfrow = c(1, 3))
warna <- terrain.colors(3)
i <- 1
while (i <= 3) {
  data <- rnorm(100, mean = i)
  hist(data,
       main = paste("while loop - Histogram ke", i),
       col = warna[i])
  i <- i + 1
}
```
## Repeat 

```{r}
par(mfrow = c(1, 3))
warna <- rainbow(3)

i <- 1
repeat {
  data <- rnorm(100, mean = i)
  hist(data,
       main = paste("repeat loop - Histogram ke", i),
       col = warna[i])
  i <- i + 1
  if (i > 3) break
}

```

# Kesimpulan

Loop sangat berguna dalam pemrograman R untuk mengotomatisasi perulangan. Dengan `for`, `while`, dan `repeat`, kita bisa mengotomatisasi banyak hal â€” mulai dari memproses data, membuat daftar, hingga menampilkan grafik berulang. Selain itu, loop juga bisa digunakan untuk menghasilkan visualisasi dinamis seperti histogram dengan pengaturan warna yang bervariasi. Meskipun loop sangat berguna, untuk proses yang melibatkan banyak data, kita juga bisa mempertimbangkan pendekatan yang lebih efisien dan ringkas menggunakan fungsi *vectorized* seperti `apply`, `lapply`, atau `purrr::map`.

---

